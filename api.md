

---

## 接口文档 - 任务管理 API

**基础URL**: `http://localhost:3000/tasks`

### 1. 获取所有任务

- **URL**: `/tasks`
- **方法**: `GET`
- **描述**: 获取所有任务的列表。

#### 请求参数
无

#### 响应示例

```json
[
  {
    "id": 1,
    "content": "完成Express.js项目",
    "deadline": "2023-12-31T23:59:59.000Z",
    "finish": false,
    "priority": 1,
    "createdAt": "2023-11-01T10:30:00.000Z",
    "updatedAt": "2023-11-01T10:30:00.000Z"
  },
  {
    "id": 2,
    "content": "复习数据库知识",
    "deadline": "2023-11-15T23:59:59.000Z",
    "finish": true,
    "priority": 2,
    "createdAt": "2023-11-02T15:45:00.000Z",
    "updatedAt": "2023-11-02T15:45:00.000Z"
  }
]
```

---

### 2. 获取特定任务

- **URL**: `/tasks/:id`
- **方法**: `GET`
- **描述**: 根据任务ID获取特定任务。

#### 路径参数
- `id` (必填): 要获取的任务的ID。

#### 响应示例

```json
{
  "id": 1,
  "content": "完成Express.js项目",
  "deadline": "2023-12-31T23:59:59.000Z",
  "finish": false,
  "priority": 1,
  "createdAt": "2023-11-01T10:30:00.000Z",
  "updatedAt": "2023-11-01T10:30:00.000Z"
}
```

#### 错误响应

- 如果任务ID不存在，返回404错误：

```json
{
  "error": "任务未找到"
}
```

---

### 3. 创建新任务

- **URL**: `/tasks`
- **方法**: `POST`
- **描述**: 创建一个新任务。

#### 请求体

```json
{
  "content": "完成Express.js项目",
  "deadline": "2023-12-31T23:59:59",
  "finish": false,
  "priority": 1
}
```

- `content` (必填): 任务内容，字符串类型。
- `deadline` (必填): 任务截止日期，ISO格式日期字符串。
- `finish` (可选): 任务是否完成，布尔类型，默认为 `false`。
- `priority` (必填): 任务优先级，整数类型。

#### 响应示例

```json
{
  "id": 3,
  "content": "完成Express.js项目",
  "deadline": "2023-12-31T23:59:59.000Z",
  "finish": false,
  "priority": 1,
  "createdAt": "2023-11-04T12:00:00.000Z",
  "updatedAt": "2023-11-04T12:00:00.000Z"
}
```

#### 错误响应

- 如果请求体中缺少必要字段或字段格式不正确，返回400错误：

```json
{
  "error": "创建任务失败"
}
```

---

### 4. 更新任务

- **URL**: `/tasks/:id`
- **方法**: `PUT`
- **描述**: 根据任务ID更新任务。

#### 路径参数
- `id` (必填): 要更新的任务的ID。

#### 请求体

可以更新以下任意字段：

```json
{
  "content": "复习数据库知识",
  "deadline": "2023-11-15T23:59:59",
  "finish": true,
  "priority": 2
}
```

#### 响应示例

```json
{
  "id": 1,
  "content": "复习数据库知识",
  "deadline": "2023-11-15T23:59:59.000Z",
  "finish": true,
  "priority": 2,
  "createdAt": "2023-11-01T10:30:00.000Z",
  "updatedAt": "2023-11-04T12:10:00.000Z"
}
```

#### 错误响应

- 如果任务ID不存在，返回404错误：

```json
{
  "error": "任务未找到"
}
```

---

### 5. 删除任务

- **URL**: `/tasks/:id`
- **方法**: `DELETE`
- **描述**: 根据任务ID删除任务。

#### 路径参数
- `id` (必填): 要删除的任务的ID。

#### 响应示例

```json
{
  "message": "任务已删除"
}
```

#### 错误响应

- 如果任务ID不存在，返回404错误：

```json
{
  "error": "任务未找到"
}
```
---
### 6. 测试删除所有任务的API
- **URL**: `/tasks/`
- **方法**: `DELETE`
- **描述**: 删除所有任务。
#### 响应示例

```json
{
  "message": "所有任务已删除"
}
```


---

### 错误码

- **200** - 请求成功
- **201** - 创建成功
- **400** - 请求错误，通常是请求体格式不正确或缺少必要字段
- **404** - 资源未找到
- **500** - 服务器内部错误

---

### 备注

- 所有请求和响应均为JSON格式。
- 日期字段如 `deadline` 需要使用ISO格式的字符串（例如：`2023-12-31T23:59:59`）。
- `priority` 为整数值，用于定义任务优先级。

---

此文档提供了每个接口的完整信息，前端可以参考此文档进行请求的构建和响应的处理。如果有任何疑问，可以随时联系后端开发人员。